<!DOCTYPE HTML>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Calidad del aire</title>
		<link rel="stylesheet" href="mi_estilo.css" />
		<script src="libs/Chart.js"></script>
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<script src="js/mapa.js"></script>
		<script src="js/main.js"></script>
		<script type="text/javascript">
				var array=leer_fichero();
		</script>
	</head>

	<body>
		<div class="titulo">
			<h2>Visualización de calidad del aire </h2>
		</div>
		<div class='row'>
				<div class="div_form" id="div_form">
					<form id="formulario", onsubmit="return false">
						<div id='noccaa'>
					    <div id='datos'><fieldset>
								<legend>Fecha</legend>
								<input type="date" id="start" name="fecha"
									value="2018-12-31"
									min="1997-01-01" max="2018-12-31">
					    </div></fieldset>
							<div><fieldset>
					       <legend>Hora</legend>
					       <select id="hora" form="formulario">
					           <option value="24" selected="selected">00:00</option>
					           <option value="1">01:00</option>
					           <option value="2">02:00</option>
					           <option value="3">03:00</option>
					           <option value="4">04:00</option>
					           <option value="5">05:00</option>
					           <option value="6">06:00</option>
					           <option value="7">07:00</option>
					           <option value="8">08:00</option>
					           <option value="9">09:00</option>
					           <option value="10">10:00</option>
					           <option value="11">11:00</option>
					           <option value="12">12:00</option>
					           <option value="13">13:00</option>
					           <option value="14">14:00</option>
					           <option value="15">15:00</option>
					           <option value="16">16:00</option>
										 <option value="17">17:00</option>
										 <option value="18">18:00</option>
										 <option value="19">19:00</option>
										 <option value="20">20:00</option>
										 <option value="21">21:00</option>
										 <option value="22">22:00</option>
										 <option value="23">23:00</option>
					       </select>
					   </div>
							<div id='normal'><fieldset>
								<legend>Provincia</legend>
								<select id="provincia" form="formulario">
										<option value="León">León</option>
										<option value="Palencia">Palencia</option>
										<option value="Burgos">Burgos</option>
										<option value="Soria">Soria</option>
										<option value="Segovia">Segovia</option>
										<option value="Avila" selected="selected">Ávila</option>
										<option value="Salamanca">Salamanca</option>
										<option value="Zamora">Zamora</option>
										<option value="Valladolid">Valladolid</option>
								 </select>
							</fieldset></div>
					  <input type="submit" value="Visualizar" onclick="actualizar_graficos();"/>
					</form>
				</div>
			</div>

			<div class="representacion" id="representacion">
				<div class="row">
					<div class="contMeshMap" id="contMeshMap">
						<img id="imgOri" src="cyl.png" width="892" height="632" style="display:none">
					</div>
					<div class="diagrama">
						<div class="diagrama" id="diagrama">
								<h4>Detalle de la provincia</h4>
								<canvas id="line-chart" width="400" height="250"></canvas>
						</div>
						<div class="leyenda">
							<h5 id="leon_etiqueta">León:</h5>
							<h5 id="palencia_etiqueta">Palencia:</h5>
							<h5 id="burgos_etiqueta">Burgos:</h5>
							<h5 id="soria_etiqueta">Soria:</h5>
							<h5 id="segovia_etiqueta">Segovia:</h5>
							<h5 id="avila_etiqueta">Ávila:</h5>
							<h5 id="salamanca_etiqueta">Salamanca:</h5>
							<h5 id="zamora_etiqueta">Zamora:</h5>
							<h5 id="valladolid_etiqueta">Valladolid:</h5>
						</div>
					</div>
				</div>
			</div>
		</div>


		<script type="text/javascript">
					var myChart=null
					function initMap() {
						var imgOriObj = document.getElementById("imgOri");
						TR3.setMeshMap(imgOriObj, "contMeshMap");
					}
					grafico_2d(array)
					initMap();
					init();
		</script>
	</body>
</html>
